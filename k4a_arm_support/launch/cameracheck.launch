<launch>

  <node pkg="cv_camera" type="cv_camera_node" name="cv_camera" output="screen">
    <param name="camera_info_url" type="string" value="package://k4a_arm_support/calibration/lifecam_studio.yaml"/>
  </node>

  <group ns="cv_camera">
    <node pkg="image_proc" type="image_proc" name="image_proc" output="screen"/>
  </group>

  <node pkg="nodelet" type="nodelet"
      args="standalone image_proc/crop_decimate"
      name="my_decimator">
    <param name="x_offset" type="int" value="112" />
    <param name="y_offset" type="int" value="32" />
    <param name="width" type="int" value="416" />
    <param name="height" type="int" value="416" />

    <!-- remap input topics -->
    <remap from="camera/image_raw" to="/cv_camera/image_rect"/>
    <remap from="camera/image_info" to="/cv_camera/camera_info"/>

    <!-- remap output topics -->
    <remap from="camera_out/image_raw" to="/camera_crop/image_rect"/>
    <remap from="camera_out/image_info" to="/camera_crop/camera_info"/>
  </node>

  <node pkg="image_view" type="image_view" name="image_view">
    <remap from="image" to="/camera_crop/image_rect"/>
  </node>

  <node pkg="camera_calibration" type="cameracheck" name="cameracheck" output="screen" args="--size 8x6 --square 0.025">
    <remap from="monocular" to="/camera_crop"/>
  </node>

</launch>
